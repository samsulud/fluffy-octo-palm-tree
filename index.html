<!DOCTYPE html>
<html lang="en">
<head>
    <meta charset="UTF-8">
    <meta name="viewport" content="width=device-width, initial-scale=1.0">
    <title>Dunia Malam Hari</title>
    <link rel="stylesheet" type="text/css" href="style.css">
    <script src="https://code.jquery.com/jquery-3.6.0.min.js"></script>
</head>
<body class="splat-toggle">

<div class="scene">
    <div class="moon"></div>
    <img src="forest.png" class="forest">
    <img src="cloud1.png" class="cloud1">
    <img src="cloud2.png" class="cloud2">
    <img src="cloud3.png" class="cloud3">
    <img src="cloud1.png" class="cloud4">
    <img src="cloud2.png" class="cloud5">
    <img src="cloud3.png" class="cloud6">
    <div class="rain front-row"></div>
    <div class="rain back-row"></div>
</div>

<script type="text/javascript">
    function stars() {
        let count = 500;
        let scene = document.querySelector('.scene');
        let i = 0;
        while (i < count) {
            let star = document.createElement("i");
            let x = Math.floor(Math.random() * window.innerWidth);
            let y = Math.floor(Math.random() * window.innerHeight);
            let duration = Math.random() * 2;
            let size = Math.random() * 2;

            star.style.left = x + 'px';
            star.style.top = y + 'px';
            star.style.width = 1 + size + 'px';
            star.style.height = 1 + size + 'px';
            star.style.animationDuration = 5 + duration + 's';
            star.style.animationDelay = duration + 's';

            scene.appendChild(star);
            i++;
        }
    }

    var makeItRain = function() {
        $('.rain').empty();
        var increment = 0;
        var drops = "";
        var backDrops = "";

        while (increment < 100) {
            var randoHundo = Math.floor(Math.random() * (98 - 1 + 1) + 1);
            var randoFiver = Math.floor(Math.random() * (5 - 2 + 1) + 2);
            increment += randoFiver;

            drops += '<div class="drop" style="left: ' + increment + '%; bottom: ' + (randoFiver + randoFiver - 1 + 100) + '%; animation-delay: 0.' + randoHundo + 's; animation-duration: 0.5' + randoHundo + 's;"><div class="stem" style="animation-delay: 0.' + randoHundo + 's; animation-duration: 0.5' + randoHundo + 's;"></div><div class="splat" style="animation-delay: 0.' + randoHundo + 's; animation-duration: 0.5' + randoHundo + 's;"></div></div>';
            backDrops += '<div class="drop" style="right: ' + increment + '%; bottom: ' + (randoFiver + randoFiver - 1 + 100) + '%; animation-delay: 0.' + randoHundo + 's; animation-duration: 0.5' + randoHundo + 's;"><div class="stem" style="animation-delay: 0.' + randoHundo + 's; animation-duration: 0.5' + randoHundo + 's;"></div><div class="splat" style="animation-delay: 0.' + randoHundo + 's; animation-duration: 0.5' + randoHundo + 's;"></div></div>';
        }

        $('.rain.front-row').append(drops);
        $('.rain.back-row').append(backDrops);
    }

    stars();
    makeItRain();
</script>

</body>
</html>
